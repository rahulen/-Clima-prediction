<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-2.2.4.min.js"
      type="text/javascript"
    ></script>
    <script
      type="text/javascript"
      src="https://www.gstatic.com/charts/loader.js"
    ></script>

    <!--Chart 1-->
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
          var data = {{ dt1|tojson }};

          var dataTable = new google.visualization.DataTable();
          dataTable.addColumn('string', 'Date');
          dataTable.addColumn('number', 'Mean Temperature');

          data.forEach(item => {
              dataTable.addRow([item.date, item.meantemp]);
          });

          var options = {
              title: 'Mean Temperature Over Time',
              curveType: 'function',
              legend: { position: 'bottom' },
          };

          var chart = new google.visualization.LineChart(document.getElementById('chart0'));
          chart.draw(dataTable, options);
      }
    </script>

    <!--Chart 2-->
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
          var data = {{ dt2|tojson }};
          var dataTable = new google.visualization.DataTable();
          dataTable.addColumn('string', 'Date');
          dataTable.addColumn('number', 'Humidity');

          data.forEach(item => {
              dataTable.addRow([item.date, item.humidity]);
          });

          var options = {
              title: 'Humidity Over Time',
              curveType: 'function',
              legend: { position: 'bottom' }
          };

          var chart = new google.visualization.LineChart(document.getElementById('chart1'));
          chart.draw(dataTable, options);
      }
    </script>

    <!--Chart 3-->
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
          var data = {{ dt3|tojson }};
          var dataTable = new google.visualization.DataTable();
          dataTable.addColumn('string', 'Date');
          dataTable.addColumn('number', 'Wind Speed');

          data.forEach(item => {
              dataTable.addRow([item.date, item.wind_speed]);
          });

          var options = {
              title: 'Wind Speed Over Time',
              curveType: 'function',
              legend: { position: 'bottom' }
          };

          var chart = new google.visualization.LineChart(document.getElementById('chart2'));
          chart.draw(dataTable, options);
      }
    </script>

    <!--Chart 4-->
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
          const data = {{ dt4|tojson }};
          const dataTable = new google.visualization.DataTable();
          dataTable.addColumn('string', 'Date');
          dataTable.addColumn('number', 'Mean Pressure');

          data.forEach(item => {
              dataTable.addRow([item.date, item.meanpressure]);
          });

          var options = {
              title: 'Mean Pressure Over Time',
              curveType: 'function',
              legend: { position: 'bottom' }
          };

          var chart = new google.visualization.LineChart(document.getElementById('chart3'));
          chart.draw(dataTable, options);
      }
    </script>
  </head>
  <body
    style="background-image: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%)"
  >
    <div id="header">
      <nav class="navbar navbar-expand-lg bg-primary-subtle">
        <div class="container-fluid">
          <a class="navbar-brand" href="home"
            ><img src="../static/images/logo.png" style="height: 60px"
          /></a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active fs-5" href="dashboard">Dashboard</a>
              </li>
              <li class="nav-item">
                <a class="nav-link fs-5" href="predict">Predict</a>
              </li>
              <li class="nav-item">
                <a class="nav-link fs-5" href="home">Logout</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <div id="body">
      <div class="row col-12">
        <div class="col-lg-6 col-12">
          <div id="chart0" style="height: 500px" class="col-lg-12"></div>
        </div>
        <div class="col-lg-6 col-12">
          <div id="chart1" style="height: 500px" class="col-lg-12"></div>
        </div>
      </div>
      <div class="row col-12">
        <div class="col-lg-6 col-12">
          <div id="chart2" style="height: 500px" class="col-lg-12"></div>
        </div>
        <div class="col-lg-6 col-12">
          <div id="chart3" style="height: 500px" class="col-lg-12"></div>
        </div>
      </div>
    </div>

    <div
      id="footer"
      class="text-center bg-primary-subtle"
      style="
        margin-top: 0%;
        width: 100%;
        height: 50px;
        color: #00308f;
        font-weight: bolder;
        font-size: 15px;
        padding-top: 1%;
      "
    >
      All Rights Reserved
    </div>
  </body>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
  <script src="../static/js/api.js"></script>
</html>
